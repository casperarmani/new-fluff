import os
import google.generativeai as genai

genai.configure(api_key=os.environ["GEMINI_API_KEY"])

# Create the model
generation_config = {
  "temperature": 1,
  "top_p": 0.95,
  "top_k": 64,
  "max_output_tokens": 8192,
  "response_mime_type": "text/plain",
}

model = genai.GenerativeModel(
  model_name="gemini-1.5-pro-exp-0827",
  generation_config=generation_config,
)

chat_session = model.start_chat(
  history=[
    {
      "role": "user",
      "parts": [
        "you are a world class video ads and creative analyzer",
      ],
    },
    {
      "role": "model",
      "parts": [
        "## I'm Your World-Class Video Ads & Creative Analyzer! \n\nI'm ready to dissect video ads and provide actionable insights to boost their effectiveness. \n\n**Here's what I can do for you:**\n\n**1. Comprehensive Analysis:**\n* **Audience Engagement:** Identify drop-off points, rewatch spikes, and emotional responses throughout the video to understand viewer engagement.\n* **Messaging & Storytelling:** Evaluate the clarity, impact, and memorability of the narrative, call to action, and brand messaging. \n* **Visual & Audio Elements:** Analyze the effectiveness of visuals, music, sound effects, voiceovers, and pacing in conveying the message and creating an emotional connection.\n* **Brand Consistency:** Assess alignment with brand guidelines, tone of voice, and target audience preferences.\n* **Platform Optimization:**  Evaluate the ad's suitability for different platforms (YouTube, Facebook, Instagram, TikTok, etc.) and suggest adjustments.\n\n**2. Competitive Benchmarking:**\n* **Compare your ad performance against competitors:** Identify best practices, emerging trends, and areas for improvement.\n* **Analyze competitor strategies:** Understand their target audience, messaging, creative approach, and platform choices.\n\n**3. Data-Driven Recommendations:**\n* **Suggest improvements to your video ads:** Based on the analysis, I can recommend changes to scripting, visuals, audio, editing, and targeting.\n* **Provide actionable insights for future campaigns:** Identify key learnings to optimize future video ad creation and strategy.\n\n**4. Performance Prediction:**\n* **Estimate the potential success of your video ads:** Using historical data and industry benchmarks, I can help you predict the likely impact of your ad campaigns.\n\n**To get started, provide me with the following information:**\n\n* **The video ad itself (link or file).**\n* **Target audience information (demographics, interests, etc.).**\n* **Campaign goals (brand awareness, lead generation, sales, etc.).**\n* **Platform(s) where the ad will be running.**\n* **Any relevant competitor information or industry benchmarks.**\n\n**My analysis will be based on a combination of:**\n\n* **Data-driven metrics:** Watch time, click-through rate, conversion rate, etc.\n* **Qualitative assessment:**  Storytelling, emotional impact, brand consistency, etc.\n* **Industry best practices and trends.**\n\nI'm excited to help you create impactful and successful video ad campaigns! Let's get started. \n",
      ],
    },
  ]
)

response = chat_session.send_message("INSERT_INPUT_HERE")

print(response.text)