NFO:     Will watch for changes in these directories: ['/home/runner/GeminiVideoBot']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [902] using statreload
INFO:     Started server process [915]
INFO:uvicorn.error:Started server process [915]
INFO:     Waiting for application startup.
INFO:uvicorn.error:Waiting for application startup.
INFO:app:Redis client initialized successfully
INFO:redis_config:Successfully connected to Redis
INFO:app:Redis connection test passed
INFO:httpx:HTTP Request: POST https://xghbfotsivdbuqvumyyu.supabase.co/rest/v1/user_chat_history "HTTP/1.1 400 Bad Request"
ERROR:database:Error writing messages to database: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'timestamp' column of 'user_chat_history' in the schema cache"}
INFO:     Application startup complete.
INFO:     172.31.196.31:51878 - "GET / HTTP/1.1" 200 OK
INFO:     172.31.196.31:51878 - "GET /auth_status HTTP/1.1" 200 OK
INFO:app:Retrieved chat history for user e5fb9299-3a16-4453-9586-2735c521d843 from Redis cache
INFO:     172.31.196.31:51878 - "GET /chat_history HTTP/1.1" 200 OK
INFO:app:Retrieved video analysis history for user e5fb9299-3a16-4453-9586-2735c521d843 from Redis cache
INFO:     172.31.196.31:52068 - "GET /video_analysis_history HTTP/1.1" 200 OK
INFO:     172.31.196.31:45318 - "GET / HTTP/1.1" 200 OK
INFO:     172.31.196.31:45318 - "GET /static/styles.css HTTP/1.1" 200 OK
INFO:     172.31.196.31:45318 - "GET /auth_status HTTP/1.1" 200 OK
INFO:     172.31.196.31:45318 - "GET /login HTTP/1.1" 200 OK
INFO:     172.31.196.31:45318 - "POST /logout HTTP/1.1" 200 OK
INFO:     172.31.196.31:45318 - "GET /login HTTP/1.1" 200 OK
INFO:     172.31.196.31:46354 - "GET / HTTP/1.1" 200 OK
INFO:     172.31.196.31:46354 - "GET /auth_status HTTP/1.1" 200 OK
INFO:     172.31.196.31:46354 - "GET /login HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: POST https://xghbfotsivdbuqvumyyu.supabase.co/auth/v1/token?grant_type=password "HTTP/1.1 200 OK"
INFO:httpx:HTTP Request: GET https://xghbfotsivdbuqvumyyu.supabase.co/rest/v1/users?select=%2A&email=eq.wicked%40gmail.com "HTTP/1.1 200 OK"
INFO:     172.31.196.31:41980 - "POST /login HTTP/1.1" 200 OK
INFO:     172.31.196.31:41980 - "GET / HTTP/1.1" 200 OK
INFO:     172.31.196.31:41980 - "GET /auth_status HTTP/1.1" 200 OK
INFO:app:Retrieved chat history for user e5fb9299-3a16-4453-9586-2735c521d843 from Redis cache
INFO:     172.31.196.31:41980 - "GET /chat_history HTTP/1.1" 200 OK
INFO:app:Retrieved video analysis history for user e5fb9299-3a16-4453-9586-2735c521d843 from Redis cache
INFO:     172.31.196.31:53928 - "GET /video_analysis_history HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: GET https://xghbfotsivdbuqvumyyu.supabase.co/rest/v1/users?select=id&id=eq.e5fb9299-3a16-4453-9586-2735c521d843 "HTTP/1.1 200 OK"
INFO:     172.31.196.31:53928 - "POST /send_message HTTP/1.1" 200 OK
INFO:httpx:HTTP Request: POST https://xghbfotsivdbuqvumyyu.supabase.co/rest/v1/user_chat_history "HTTP/1.1 400 Bad Request"
ERROR:database:Error writing messages to database: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'timestamp' column of 'user_chat_history' in the schema cache"}
INFO:httpx:HTTP Request: POST https://xghbfotsivdbuqvumyyu.supabase.co/rest/v1/user_chat_history "HTTP/1.1 400 Bad Request"
ERROR:database:Error writing messages to database: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'timestamp' column of 'user_chat_history' in the schema cache"}
INFO:httpx:HTTP Request: POST https://xghbfotsivdbuqvumyyu.supabase.co/rest/v1/user_chat_history "HTTP/1.1 400 Bad Request"
ERROR:database:Error writing messages to database: {'code': 'PGRST204', 'details': None, 'hint': None, 'message': "Could not find the 'timestamp' column of 'user_chat_history' in the schema cache"}
INFO:app:Retrieved chat history for user e5fb9299-3a16-4453-9586-2735c521d843 from Redis cache
INFO:     172.31.196.31:53928 - "GET /chat_history HTTP/1.1" 200 OK
INFO:app:Retrieved video analysis history for user e5fb9299-3a16-4453-9586-2735c521d843 from Redis cache
INFO:     172.31.196.31:49642 - "GET /video_analysis_history HTTP/1.1" 200 OK